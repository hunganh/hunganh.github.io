/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/charts.js":
/*!**************************!*\
  !*** ./src/js/charts.js ***!
  \**************************/
/***/ (() => {

eval("window.chartsJS = {\r\n    technicalAnalysics : function () {\r\n        $(\"#accordionTAChart\").find(\".collapse\").collapse('hide');\r\n        $(\"#showTechnicalAnalysisContent\").css(\"height\", \"200px\");\r\n        var loadingHTML = window.commonJS.getLoadingHTML();\r\n        // Exchange & Fields\r\n        var exchanges = [];\r\n        var hsx = $('#btnFilterHSXChartOption:checked').val();\r\n        var hnx = $('#btnFilterHNXChartOption:checked').val();\r\n        var upcom = $('#btnFilterUPCChartOption:checked').val();\r\n        if (hsx) {\r\n            exchanges.push(hsx);\r\n        }\r\n        if (hnx) {\r\n            exchanges.push(hnx);\r\n        }\r\n        if (upcom) {\r\n            exchanges.push(upcom);\r\n        }\r\n    \r\n        var fielSelection = $('#chart-fields-selection-options').val();\r\n        var icbCodes = (fielSelection !== \"null\" ? [fielSelection] : null);\r\n    \r\n        // Candle Stick\r\n        var candleStickType = $(\"input[name='btnCandleStickTAOption']:checked\").val();\r\n        \r\n    \r\n        // TA - Technical Analysis\r\n        var taFilter = { filterByKeys:[], filterByKeyAndValues: {}, compareResultOfTwoSMAs: null };\r\n        var filterByKeys = [];\r\n        var compareResultOfTwoSMAs = {};\r\n        var booleanFilter = { \r\n            AvailableForFASearching: true,\r\n            Has5ConsecutiveTradingDays: true,\r\n            //Has10ConsecutiveTradingDays: true \r\n        };\r\n        // SMA\r\n        var climbUpSMA20 = $('#btnFilterSMA20UpChartOption:checked').val();\r\n        if (climbUpSMA20) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(climbUpSMA20, candleStickType));\r\n        }\r\n        var climbUpSMA50 = $('#btnFilterSMA50UpChartOption:checked').val();\r\n        if (climbUpSMA50) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(climbUpSMA50, candleStickType));\r\n        }\r\n        var climbUpSMA200 = $('#btnFilterSMA200UpChartOption:checked').val();\r\n        if (climbUpSMA200) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(climbUpSMA200, candleStickType));\r\n        }\r\n        var climbDownSMA20 = $('#btnFilterSMA20DownChartOption:checked').val();\r\n        if (climbDownSMA20) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(climbDownSMA20, candleStickType));\r\n        }\r\n        var climbDownSMA50 = $('#btnFilterSMA50DownChartOption:checked').val();\r\n        if (climbDownSMA50) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(climbDownSMA50, candleStickType));\r\n        }\r\n        var climbDownSMA200 = $('#btnFilterSMA200DownChartOption:checked').val();\r\n        if (climbDownSMA200) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(climbDownSMA200, candleStickType));\r\n        }\r\n        var breakUpperBoundSMA20vsSMA50 = $('#btnFilterSMA20UpSMA50ChartOption:checked').val();\r\n        if (breakUpperBoundSMA20vsSMA50) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakUpperBoundSMA20vsSMA50, candleStickType));\r\n        }\r\n        var breakUpperBoundSMA50vsSMA200 = $('#btnFilterSMA50UpSMA200ChartOption:checked').val();\r\n        if (breakUpperBoundSMA50vsSMA200) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakUpperBoundSMA50vsSMA200, candleStickType));\r\n        }\r\n        var breakLowerBoundSMA20vsSMA50 = $('#btnFilterSMA20DownSMA50ChartOption:checked').val();\r\n        if (breakLowerBoundSMA20vsSMA50) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakLowerBoundSMA20vsSMA50, candleStickType));\r\n        }\r\n        var breakLowerBoundSMA50vsSMA200 = $('#btnFilterSMA50DownSMA200ChartOption:checked').val();\r\n        if (breakLowerBoundSMA50vsSMA200) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakLowerBoundSMA50vsSMA200, candleStickType));\r\n        }\r\n        var sMA20vsSMA50 = $('#btnFilterSMA20CompareSMA50ChartOption:checked').val();\r\n        if (sMA20vsSMA50) {\r\n            compareResultOfTwoSMAs[window.commonJS.getValueByCandleStickType(sMA20vsSMA50, candleStickType)] = $( \"select#btnFilterSMA20CompareSMA50ChartSelection option:checked\" ).val();;\r\n        }\r\n        var sMA50vsSMA200 = $('#btnFilterSMA50CompareSMA200ChartOption:checked').val();\r\n        if (sMA50vsSMA200) {\r\n            compareResultOfTwoSMAs[window.commonJS.getValueByCandleStickType(sMA50vsSMA200, candleStickType)] = $( \"select#btnFilterSMA50CompareSMA200ChartSelection option:checked\" ).val();;\r\n        }\r\n        if (compareResultOfTwoSMAs !== null) {\r\n            taFilter.compareResultOfTwoSMAs = compareResultOfTwoSMAs;\r\n        }\r\n    \r\n        // ICHIMOKU\r\n        var breakUpperBoundTenkan = $('#btnFilterTenkanUpChartOption:checked').val();\r\n        if (breakUpperBoundTenkan) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakUpperBoundTenkan, candleStickType));\r\n        }\r\n        var breakUpperBoundKijun = $('#btnFilterKijunUpChartOption:checked').val();\r\n        if (breakUpperBoundKijun) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakUpperBoundKijun, candleStickType));\r\n        }\r\n        var breakUpperBoundCloud = $('#btnFilterCloudUpChartOption:checked').val();\r\n        if (breakUpperBoundCloud) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakUpperBoundCloud, candleStickType));\r\n        }\r\n        var breakLowerBoundTenkan = $('#btnFilterTenkanDownChartOption:checked').val();\r\n        if (breakLowerBoundTenkan) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakLowerBoundTenkan, candleStickType));\r\n        }\r\n        var breakLowerBoundKijun = $('#btnFilterKijunDownChartOption:checked').val();\r\n        if (breakLowerBoundKijun) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakLowerBoundKijun, candleStickType));\r\n        }\r\n        var breakLowerBoundCloud = $('#btnFilterCloudDownChartOption:checked').val();\r\n        if (breakLowerBoundCloud) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakLowerBoundCloud, candleStickType));\r\n        }\r\n    \r\n        // MACD\r\n        var breakUpperBoundMACDvsSignal = $('#btnFilterMACDUpChartOption:checked').val();\r\n        if (breakUpperBoundMACDvsSignal) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakUpperBoundMACDvsSignal, candleStickType));\r\n        }\r\n        var breakLowerBoundMACDvsSignal = $('#btnFilterMACDDownChartOption:checked').val();\r\n        if (breakLowerBoundMACDvsSignal) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakLowerBoundMACDvsSignal, candleStickType));\r\n        }\r\n    \r\n        // RSI\r\n        var rsi14T0ValuesGreater = $('#btnFilterRSIOverBuyChartOption:checked').val();\r\n        if (rsi14T0ValuesGreater) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(rsi14T0ValuesGreater, candleStickType));\r\n        }\r\n        var rsi14T0ValuesLess = $('#btnFilterRSIOverSellChartOption:checked').val();\r\n        if (rsi14T0ValuesLess) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(rsi14T0ValuesLess, candleStickType));\r\n        }\r\n        var rSI14T0Values = $('#btnFilterRSIRangeValueChartOption:checked').val();\r\n        if (rSI14T0Values) {\r\n            var optionValue = $( \"select#btnFilterRSIRangeValueChartOptionSelection option:checked\" ).val();\r\n            var key = optionValue.slice(0,optionValue.length - 3);\r\n            var value = optionValue.slice(optionValue.length - 2);\r\n            taFilter.filterByKeyAndValues[window.commonJS.getValueByCandleStickType(key, candleStickType)] = parseInt(value);\r\n        }\r\n    \r\n        // Bollinger Band\r\n        var breakUpperBoundUpperBands = $('#btnFilterBollingerUpperBandChartOption:checked').val();\r\n        var breakLowerBoundLowerBands = $('#btnFilterBollingerLowerBandChartOption:checked').val();\r\n        if (breakUpperBoundUpperBands) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakUpperBoundUpperBands, candleStickType));\r\n        }\r\n        if (breakLowerBoundLowerBands) {\r\n            filterByKeys.push(window.commonJS.getValueByCandleStickType(breakLowerBoundLowerBands, candleStickType));\r\n        }\r\n        \r\n        taFilter.filterByKeys = filterByKeys;\r\n    \r\n        // Other\r\n        var btnChartOverTop = $('#btnChartOverTop:checked').val();\r\n        if (btnChartOverTop) {\r\n            booleanFilter[btnChartOverTop] = true;\r\n        }\r\n    \r\n        // Data Object\r\n        var data = {\r\n                    faFilter: null,\r\n                    taFilter: taFilter,\r\n                    booleanFilter: booleanFilter,\r\n                    pageNumber: 1,\r\n                    pageSize: 10000,\r\n                    exchanges: exchanges,\r\n                    icbCodes: icbCodes,\r\n                    sortColumn: \"Symbol\",\r\n                    isDesc: false,\r\n                    };\r\n         var headTAData = `<table class=\"table table-bordered table-striped table-hover fixTableHead\">\r\n                    <thead class=\"table-light\">\r\n                        <tr>\r\n                            <th>#</th> \r\n                            <th>Mã</th>\r\n                            <th>Tên Doanh Nghiệp</th>\r\n                            <th>Sàn</th>\r\n                        </tr>          \r\n                    </thead>\r\n                    <tbody>`;\r\n        $(\"#showTechnicalAnalysisContent\").html(`</br>${loadingHTML}`);\r\n        setTimeout(() => {\r\n            var URL = encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V2_URL}${window.apiUrlDefined.FIALDA_STOCK_FILTERS_PATH}`);\r\n            var res = headTAData;\r\n            $.ajax({\r\n                url: `${window.apiUrlDefined.CORS_PROXY_URL}/${URL}`,\r\n                method: \"POST\",\r\n                data: JSON.stringify(data),\r\n                headers: {\r\n                    \"content-type\": \"application/json;charset=UTF-8\" // Or add this line\r\n                }\r\n            }).done(function (response) {\r\n                if (response && response.result) {\r\n                    if (response.result.items.length > 0) {\r\n                        var tickerCodes = response.result.items;\r\n                        if (tickerCodes.length > 0) {\r\n                            var index = 0;\r\n                            tickerCodes.forEach(item => {\r\n                                var stockInfo = window.stockData.find(x => x.symbol === item);\r\n                                res += `<tr class=\"tr-cursor\" onclick=window.chartsJS.generateChartIframe(\"${item}\")>\r\n                                            <td>${index + 1}</td>\r\n                                            <td class=\"bold-text\">${item}</td>\r\n                                            <td class=\"text-left\">${stockInfo && stockInfo.name !== undefined ? stockInfo.name : \"\"}</td>\r\n                                            <td>${stockInfo && stockInfo.exchange !== undefined ? stockInfo.exchange : \"\"}</td>\r\n                                        </tr>`;\r\n                                index++;\r\n                            });\r\n                        } else {\r\n                            res += `<tr><td colspan=\"4\" class=\"bold-text\">Không có mã nào thỏa mãn tiêu chí.</td></tr>`;\r\n                        }\r\n                    } else {\r\n                        res += `<tr><td colspan=\"4\" class=\"bold-text\">Không có mã nào thỏa mãn tiêu chí.</td></tr>`;\r\n                    }\r\n                } else {\r\n                    res += `<tr><td colspan=\"4\">Không có dữ liệu. Vui lòng thử lại sau!</td></tr>`;\r\n                }\r\n                res += `</tbody></table>`;\r\n                $(\"#showTechnicalAnalysisContent\").html(res);\r\n                window.chartsJS.setTATableHeight();\r\n            }).fail(function (jqXHR, textStatus, error) {\r\n                $(\"#showTechnicalAnalysisContent\").html(\"Có lỗi khi tải dữ liệu. Vui lòng thử lại sau!\");\r\n            });\r\n        }, 100);\r\n    },\r\n    \r\n    setTATableHeight : function () {\r\n        setTimeout(() => {\r\n            var height = $(window).height() - $(\"#accordionTAChart\").height() - 100;\r\n            $(\"#showTechnicalAnalysisContent\").css(\"height\", parseInt(height) + \"px\");\r\n        }, 200);\r\n    },\r\n      \r\n    generateChartIframe : function (symbol) {\r\n        $(\".chartContainer\").html(`</br>${window.commonJS.getLoadingHTML()}`);\r\n        setTimeout(() => {\r\n            var candleStickType = $(\"input[name='btnCandleStickTAOption']:checked\").val();\r\n            var type = \"\";\r\n            if (candleStickType === \"_15m\") {\r\n                type = \"15\";\r\n            }\r\n            else if (candleStickType === \"Hourly\") {\r\n                type = \"60\";\r\n            }\r\n            else if (candleStickType === \"Daily\") {\r\n                type = \"1D\";\r\n            }\r\n            else if (candleStickType === \"Weekly\") {\r\n                type = \"1W\";\r\n            }\r\n            var height = $(window).height() - 50;\r\n            var url = window.location.href;\r\n            var iframePage = url.indexOf(\"phan-tich-ky-thuat-co-phieu\") > -1 ? \"../tv-chart.html\" : \"tv-chart.html\";\r\n            var charts = `<iframe id=\"ifrTACharts\" src=\"${iframePage}?symbol=${symbol}&allowFullscreen=true&resolution=${type}&lang=vi\" frameborder=\"0\" allowtransparency=\"true\" scrolling=\"no\" allowfullscreen=\"\" style=\"display: block; width: 100%; height:${height}px\"></iframe>`;\r\n            \r\n            $(\".chartContainer\").html(charts);\r\n        }, 500);\r\n    }\r\n}\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function(e) { \r\n    window.chartsJS.generateChartIframe(\"VNINDEX\");\r\n    var chartFielsSelections = window.commonJS.getSelectionFieldsHTML(\"chart-fields-selection-options\");\r\n    $(\"#chart-fields-selection\").html(chartFielsSelections);\r\n    $(window).resize(function() {\r\n        $(\"#ifrTACharts\").css(\"height\", parseInt($(window).height()-50) + \"px\");\r\n        window.chartsJS.setTATableHeight();\r\n    });\r\n    $(\"#accordionTAChart\").click(function() {\r\n        window.chartsJS.setTATableHeight();\r\n    });\r\n    window.chartsJS.technicalAnalysics();\r\n});\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/charts.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/charts.js"]();
/******/ 	
/******/ })()
;