/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/js/common.js":
/*!**************************!*\
  !*** ./src/js/common.js ***!
  \**************************/
/***/ (() => {

eval("$(document).on(\"contextmenu\", function (e) {\r\n    e.preventDefault();\r\n});\r\n\r\n$(document).keydown(function (event) {\r\n    // Prevent F12\r\n    if (event.keyCode == 123) {\r\n        return false;\r\n    }\r\n    else if (event.ctrlKey && event.shiftKey && event.keyCode == 73)\r\n    // Prevent Ctrl+Shift+I\r\n    {\r\n        return false;\r\n    }\r\n    else if (event.ctrlKey && event.keyCode == 83)\r\n    // Prevent Ctrl+S\r\n    {\r\n        return false;\r\n    }\r\n});\r\n\r\ndocument.addEventListener(\"DOMContentLoaded\", function (e) {\r\n    $(\".filter-title,.filter-title-default\").click(function () {\r\n        var $input = $(this);\r\n        var prevElement = $input.prev().find(\"input\");\r\n        if (prevElement.prop(\"checked\")) {\r\n            prevElement.prop(\"checked\", false).change();\r\n        } else {\r\n            prevElement.prop(\"checked\", true).change();\r\n        }\r\n    });\r\n\r\n    $(document).on(\"click\", \".popover .close\", function () {\r\n        $(this).parents(\".popover\").popover('hide');\r\n    });\r\n\r\n    $(document).on(\"click\", \".nav-link\", function () {\r\n        $('.popover').popover('hide');\r\n    });\r\n\r\n    $(document).on(\"click\", \".popover .close\", function () {\r\n        $(this).parents(\".popover\").popover('hide');\r\n    });\r\n\r\n    $(document).on(\"click\", \".nav-link\", function () {\r\n        $('.popover').popover('hide');\r\n    });\r\n    for (const element of document.getElementsByClassName(\"menu-item-custom\")){\r\n        element.classList.remove(\"active\");\r\n    }\r\n    var url = window.location.href;\r\n    let itemName = \"thong-ke-to-chuc\";\r\n    if (url.indexOf(\"thong-ke-tong-hop\") > -1) {\r\n        itemName = \"thong-ke-tong-hop\";\r\n    } else if (url.indexOf(\"thong-ke-theo-nganh\") > -1) {\r\n        itemName = \"thong-ke-theo-nganh\";\r\n    } else if (url.indexOf(\"loc-co-phieu\") > -1) {\r\n        itemName = \"loc-co-phieu\";\r\n    } else if (url.indexOf(\"phan-tich-ky-thuat-co-phieu\") > -1) {\r\n        itemName = \"phan-tich-ky-thuat-co-phieu\";\r\n    } else if (url.indexOf(\"dinh-gia-co-phieu\") > -1) {\r\n        itemName = \"dinh-gia-co-phieu\";\r\n    } else if (url.indexOf(\"bang-gia-co-phieu\") > -1) {\r\n        itemName = \"bang-gia-co-phieu\";\r\n    }\r\n    for (const item of document.getElementsByClassName(itemName)){\r\n        item.classList.add(\"active\");\r\n    }\r\n});\r\n\r\nwindow.commonJS = {\r\n    fetchContentByUrl: function (url) {\r\n        return new Promise((resolve, reject) => {\r\n            window.fetch(url,\r\n                {\r\n                    method: 'GET'\r\n                }\r\n            ).then((response) => {\r\n                if (response.status === 200) {\r\n                    resolve(response.json());\r\n                }\r\n            }, (err) => {\r\n                reject(err);\r\n            }).catch(error => {\r\n                console.log(error);\r\n            });\r\n        });\r\n    },\r\n\r\n    fetchContentByUrlWithCORSProxy: function (url, method, body) {\r\n        return new Promise((resolve, reject) => {\r\n            if (method === \"GET\") {\r\n                fetch(`${window.apiUrlDefined.CORS_PROXY_URL}/${url}`)\r\n                    .then(response => {\r\n                        if (response.ok) return resolve(response.json())\r\n                        throw new Error('Network response was not ok.')\r\n                    }, err => {\r\n                        reject(err);\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            } else {\r\n                fetch(`${window.apiUrlDefined.CORS_PROXY_URL}/${url}`, {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Content-Type': 'application/json'\r\n                    },\r\n                    body: JSON.stringify(body)\r\n                })\r\n                    .then(response => {\r\n                        if (response.ok) return resolve(response.json())\r\n                        throw new Error('Network response was not ok.')\r\n                    }, err => {\r\n                        reject(err);\r\n                    })\r\n                    .catch(error => {\r\n                        console.log(error);\r\n                    });\r\n            }\r\n        });\r\n    },\r\n\r\n    getDateInput: function (date) {\r\n        const dateInput = new Date(date);\r\n        var dateInputStr = `${dateInput.getFullYear()}_${(\"0\" + (dateInput.getMonth() + 1)).slice(-2)}_${(\"0\" + dateInput.getDate()).slice(-2)}`;\r\n        return dateInputStr;\r\n    },\r\n\r\n    checkUrlExists: function (fileName) {\r\n        var http = new XMLHttpRequest();\r\n        http.open('HEAD', getRequestUrl(fileName), false);\r\n        http.send();\r\n        if (http.status != 404)\r\n            return true;\r\n        else\r\n            return false;\r\n    },\r\n\r\n    getFirstItemData: function (date) {\r\n        var res = null;\r\n        var url = window.commonJS.getUrlPreviousElementByDate(date);\r\n        if (url === \"\") return res;\r\n        $.ajax({\r\n            url: url,\r\n            async: false,\r\n            dataType: \"json\"\r\n        }).done(function (result) {\r\n            if (result && result.items.length > 0) {\r\n                res = result.items[0];\r\n            }\r\n        });\r\n        return res;\r\n    },\r\n\r\n    addCell: function (tr, cellData) {\r\n        var tabCell = tr.insertCell(-1);\r\n        tabCell.innerHTML = cellData;\r\n    },\r\n\r\n    getPositionIcon: function (prvPosition, currentPosition) {\r\n        var iconString = \"<span class='reference'> &#8722;</span>\";\r\n        if (currentPosition < prvPosition) {\r\n            iconString = \"<span class='up'> &#8593;(\" + Number(prvPosition + 1) + \")</span>\";\r\n        } else if (currentPosition > prvPosition) {\r\n            iconString = \"<span class='down'> &#8595;(\" + Number(prvPosition + 1) + \")</span>\";\r\n        }\r\n        return iconString;\r\n    },\r\n\r\n    getColumnName: function () {\r\n        if (window.variablesJS.typeDefault === \"selfBusiness\") {\r\n            return window.variablesJS.TOTAL_NET_BUY_TRADE_VALUE;\r\n        } else {\r\n            return window.variablesJS.FOREIGN_NET_BUY_VALUE;\r\n        }\r\n    },\r\n\r\n    getVolumeColumnName: function () {\r\n        if (window.variablesJS.typeDefault === \"selfBusiness\") {\r\n            return window.variablesJS.TOTAL_NET_BUY_TRADE_VOLUME;\r\n        } else {\r\n            return \"\";\r\n        }\r\n    },\r\n\r\n    getVolatilityValue: function (data) {\r\n        if (window.variablesJS.typeDefault === \"selfBusiness\") {\r\n            return Intl.NumberFormat(window.variablesJS.numberLocale).format(data[\"totalBuyTradeValue\"] - data[\"totalSellTradeValue\"]);\r\n        } else {\r\n            return Intl.NumberFormat(window.variablesJS.numberLocale).format(data[\"foreignBuyValue\"] - data[\"foreignSellValue\"]);\r\n        }\r\n    },\r\n\r\n    getNetTradeValueColumn: function () {\r\n        if (window.variablesJS.typeDefault === \"selfBusiness\") {\r\n            if (window.variablesJS.actionDefault === \"netBuy\") {\r\n                return window.variablesJS.TOTAL_NET_BUY_TRADE_VALUE;\r\n            } else {\r\n                return window.variablesJS.TOTAL_NET_SELL_TRADE_VALUE;\r\n            }\r\n        } else {\r\n            if (window.variablesJS.actionDefault === \"netBuy\") {\r\n                return window.variablesJS.FOREIGN_NET_BUY_VALUE;\r\n            } else {\r\n                return window.variablesJS.FOREIGN_NET_SELL_VALUE;\r\n            }\r\n        }\r\n    },\r\n\r\n    getNetTradeValueColumnByActionValue: function (action) {\r\n        if (window.variablesJS.typeDefault === \"selfBusiness\") {\r\n            if (action === \"netBuy\") {\r\n                return window.variablesJS.TOTAL_NET_BUY_TRADE_VALUE;\r\n            } else {\r\n                return window.variablesJS.TOTAL_NET_SELL_TRADE_VALUE;\r\n            }\r\n        } else {\r\n            if (action === \"netBuy\") {\r\n                return window.variablesJS.FOREIGN_NET_BUY_VALUE;\r\n            } else {\r\n                return window.variablesJS.FOREIGN_NET_SELL_VALUE;\r\n            }\r\n        }\r\n    },\r\n\r\n    getUrlPreviousElementByDate: function (date) {\r\n        var fileName = `${window.commonJS.getDateInput(date)}.json`;\r\n        var index = window.variablesJS.mappingDataJson.findIndex(x => x.name === fileName);\r\n        if (index <= 0) return \"\";\r\n        return window.variablesJS.mappingDataJson[index + 1].url;\r\n    },\r\n\r\n    showLoading: function (elementId) {\r\n        var loadingElement = document.getElementById(elementId);\r\n        loadingElement.style.display = \"block\";\r\n    },\r\n\r\n    hideLoading: function (elementId) {\r\n        var loadingElement = document.getElementById(elementId);\r\n        loadingElement.style.setProperty(\"display\", \"none\", \"important\");\r\n    },\r\n\r\n    getClassByValue: function (value) {\r\n        return value > 0 ? \"up\" : value < 0 ? \"down\" : \"reference\";\r\n    },\r\n\r\n    showTickerInfor: function (code) {\r\n        window.variablesJS.currentTicker = code;\r\n        var loadingHTML = window.commonJS.getLoadingHTML();\r\n        $(\"#btn-modal-action\").attr(\"onclick\", \"window.commonJS.refreshTickerDetailData()\");\r\n        $(\"#detailModalLabel\").html(code);\r\n        $(\"#detailModalContent\").html(loadingHTML);\r\n        window.commonJS.processTickerData(code);\r\n        $(\"#detailModal\").modal('show');\r\n    },\r\n\r\n    processTickerData: function (code) {\r\n        var currentDate = new Date();\r\n        var prvDate = new Date();\r\n        prvDate.setMonth(prvDate.getMonth() - 3);\r\n        var toDate = `${currentDate.getFullYear()}-${(\"0\" + (currentDate.getMonth() + 1)).slice(-2)}-${(\"0\" + currentDate.getDate()).slice(-2)}`;\r\n        var fromDate = `${prvDate.getFullYear()}-${(\"0\" + (prvDate.getMonth() + 1)).slice(-2)}-${(\"0\" + prvDate.getDate()).slice(-2)}`;\r\n\r\n        var RECOMMENDATIONS_URL = encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V2_URL}${window.apiUrlDefined.FIALDA_GET_REPORT_PATH}?fromDate=${fromDate}&toDate=${toDate}&symbols=${code}`);\r\n        var STOCK_INFO_URL = encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V1_URL}${window.apiUrlDefined.FIALDA_GET_STOCK_INFO_PATH}`);\r\n        Promise.all([\r\n            window.commonJS.fetchContentByUrlWithCORSProxy(RECOMMENDATIONS_URL, \"GET\", \"\"),\r\n            window.commonJS.fetchContentByUrlWithCORSProxy(STOCK_INFO_URL, \"POST\", [{ symbol: code }])\r\n        ]).then((values) => {\r\n            if (values && values.length > 0) {\r\n                setTimeout(() => {\r\n                    var content = window.commonJS.drawRecommendationsDataToHTML(values, code);\r\n                    $(\"#detailModalContent\").html(content);\r\n                }, 50);\r\n            }\r\n        }).then(() => {\r\n        }).catch((err) => {\r\n            console.error(err);\r\n        });\r\n    },\r\n\r\n    drawRecommendationsDataToHTML: function (data, code) {\r\n        var res = \"\";\r\n        var recommendationsData = data[0];\r\n        var tickerData = data[1];\r\n        if (tickerData && tickerData[\"result\"]) {\r\n            var firstKey = Object.keys(tickerData[\"result\"])[0];\r\n            if (firstKey !== undefined) {\r\n                var tickerObject = tickerData[\"result\"][firstKey];\r\n                var lastPrice = tickerObject.PriceInfo.lastPrice !== null ? tickerObject.PriceInfo.lastPrice * 1000 : tickerObject.BasicPriceInfo.prevClose * 1000;\r\n                var pe = $.isNumeric(tickerObject.BasicInfo.eps_TTM) ? (lastPrice / tickerObject.BasicInfo.eps_TTM).toFixed(2) : \"N/A\";\r\n                var pb = $.isNumeric(tickerObject.BasicInfo.bookValuePerShare) ? (lastPrice / tickerObject.BasicInfo.bookValuePerShare).toFixed(2) : \"N/A\";\r\n                var ps = $.isNumeric(tickerObject.BasicInfo.salePerShare) ? (lastPrice / tickerObject.BasicInfo.salePerShare).toFixed(2) : \"N/A\";\r\n                var valuePercentChange = $.isNumeric(tickerObject.PriceInfo.priceChangePercent) ? `(${(tickerObject.PriceInfo.priceChangePercent * 100).toFixed(2)}%)` : \"\";\r\n                $(\"#detailModalLabel\").html(`${code} - ${tickerObject.BasicInfo.name}`);\r\n                res += `<div class=\"card mb-3\">\r\n                            <div class=\"row g-0\">\r\n                            <div class=\"col-md-3 text-center\">\r\n                                <div class=\"card-body ${tickerObject.PriceInfo.openPrice === null ? \"bg-reference\" : tickerObject.PriceInfo.priceChange > 0 ? \"bg-up\" : tickerObject.PriceInfo.priceChange < 0 ? \"bg-down\" : \"bg-reference\"}\">\r\n                                    <h5 class=\"card-title\">${new Intl.NumberFormat(window.variablesJS.numberLocale).format(lastPrice)} ${valuePercentChange}</h5>\r\n                                    <h6>Sàn: ${tickerObject.BasicInfo.exchange}</h6>\r\n                                </div>               \r\n                            </div>\r\n                            <div class=\"col-md-9\">\r\n                                <div class=\"card-body price-info\">\r\n                                    <table class=\"table table-responsive\" style=\"border: none\">\r\n                                        <tbody>\r\n                                            <tr>\r\n                                                <td><span class=\"font-weight-bold\">Vốn hóa:</span> ${$.isNumeric(tickerObject.PriceInfo.marketCap) ? new Intl.NumberFormat(window.variablesJS.numberLocale).format(tickerObject.PriceInfo.marketCap) : \"N/A\"}</td>    \r\n                                                <td><span class=\"font-weight-bold\">EPS(TTM):</span> ${$.isNumeric(tickerObject.BasicInfo.eps_TTM) ? new Intl.NumberFormat(window.variablesJS.numberLocale).format(tickerObject.BasicInfo.eps_TTM.toFixed(0)) : \"N/A\"}</td>\r\n                                                <td><span class=\"font-weight-bold\">P/E:</span> ${pe}</td>\r\n                                                <td><span class=\"font-weight-bold\">P/S:</span> ${ps}</td>\r\n                                                <td><span class=\"font-weight-bold\">P/B:</span> ${pb} </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n                            </div>\r\n                            </div>\r\n                        </div>`;\r\n            } else {\r\n                res += \"\";\r\n            }\r\n        } else {\r\n            res += \"\";\r\n        }\r\n        var recommendationBody = `<table class=\"table table-bordered table-responsive\">\r\n                                    <thead class=\"table-light\">\r\n                                        <tr><th>Ngày báo cáo</th><th>Đơn vị phát hành</th><th>Tiêu đề</th><th>#</th></tr>              \r\n                                    </thead>\r\n                                    <tbody>`;\r\n        if (recommendationsData && recommendationsData[\"result\"]) {\r\n            var firstKey = Object.keys(recommendationsData[\"result\"])[0];\r\n            if (firstKey !== undefined) {\r\n                recommendationsData[\"result\"][firstKey].forEach(item => {\r\n                    recommendationBody += `<tr><td>${new Date(item.reportDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td><b class=\"top10\">${item.reporter}</b></td><td class=\"text-left\">${item.title}</td><td><a href=\"${window.apiUrlDefined.FIALDA_ANALYSIS_REPORT_URL}${code}_-_${item.attachment}\" target=\"_blank\">Xem báo cáo</a></td></tr>`;\r\n                });\r\n            } else {\r\n                recommendationBody += `<tr><td colspan=\"4\">Chưa có dữ liệu cho mã <b class=\"top10\">${code}</b>. Vui lòng thử lại sau!</td></tr>`;\r\n            }\r\n        } else {\r\n            recommendationBody += `<tr><td colspan=\"4\">Chưa có dữ liệu cho mã <b class=\"top10\">${code}</b>. Vui lòng thử lại sau!</td></tr>`;\r\n        }\r\n        recommendationBody += `</tbody></table>`;\r\n        res += `<ul class=\"nav nav-tabs tabs\" id=\"tickerTab\" role=\"tablist\">\r\n                    <li class=\"nav-item\" role=\"presentation\">\r\n                        <button class=\"nav-link active\" id=\"recommendation-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#recommendation\" type=\"button\" role=\"tab\" aria-controls=\"recommendation\" aria-selected=\"true\">Báo Cáo Phân Tích</button>\r\n                    </li>\r\n                    <li class=\"nav-item\" role=\"presentation\">\r\n                        <button class=\"nav-link\" id=\"dividend-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#dividend\" type=\"button\" role=\"tab\" aria-controls=\"dividend\" aria-selected=\"false\" onclick=\"window.commonJS.loadDividendNews('${code}')\">Tin Cổ Tức</button>\r\n                    </li>\r\n                    <li class=\"nav-item\" role=\"presentation\">\r\n                        <button class=\"nav-link\" id=\"volatility-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#volatility\" type=\"button\" role=\"tab\" aria-controls=\"volatility\" aria-selected=\"false\" onclick=\"window.commonJS.loadVolatilityData('${code}')\">Biến động %</button>\r\n                    </li>\r\n                    <li class=\"nav-item\" role=\"presentation\">\r\n                        <button class=\"nav-link\" id=\"news-tab\" data-bs-toggle=\"tab\" data-bs-target=\"#news\" type=\"button\" role=\"tab\" aria-controls=\"news\" aria-selected=\"false\" onclick=\"window.commonJS.loadNews('${code}')\">Tin Doanh Nghiệp</button>\r\n                    </li>\r\n                </ul>\r\n                <div class=\"tab-content\" id=\"tickerTabContent\">\r\n                    <div class=\"tab-pane fade show active\" id=\"recommendation\" role=\"tabpanel\" aria-labelledby=\"recommendation-tab\">\r\n                        <div class=\"grid-container\">\r\n                            ${recommendationBody}\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"tab-pane fade\" id=\"dividend\" role=\"tabpanel\" aria-labelledby=\"dividend-tab\">\r\n                        <div class=\"grid-container\" id=\"dividendContent\">\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div class=\"tab-pane fade\" id=\"volatility\" role=\"tabpanel\" aria-labelledby=\"volatility-tab\">\r\n                        <div class=\"grid-container\" id=\"volatilityContent\">\r\n                            \r\n                        </div>\r\n                    </div>\r\n                    <div class=\"tab-pane fade\" id=\"news\" role=\"tabpanel\" aria-labelledby=\"news-tab\">\r\n                        <div class=\"grid-container\" id=\"newsContent\">\r\n                            \r\n                        </div>\r\n                    </div>\r\n                </div>`;\r\n        return res;\r\n    },\r\n\r\n    getLoadingHTML: function () {\r\n        return `<div class=\"d-flex justify-content-center\">\r\n                    <div class=\"spinner-border text-success\" role=\"status\">\r\n                        <span class=\"visually-hidden\">Loading...</span>\r\n                    </div>\r\n                    <span class=\"loadingTitle\">Đang tải dữ liệu...</span>\r\n                </div>`;\r\n    },\r\n\r\n    getSelectionFieldsHTML: function (id) {\r\n        var res = `<select class=\"form-select form-select-sm\" aria-label=\".form-select-sm example\" id=\"${id}\">\r\n                        <option value=\"null\" selected>Tất cả ngành</option>`;\r\n        window.fieldsDataGlobal.forEach(field => {\r\n            res += \"<option value='\" + field.icbCode + \"'>\" + field.icbName + \"</option>\";\r\n        })\r\n        res += \"</select>\";\r\n        return res;\r\n    },\r\n\r\n    refreshTickerDetailData: function () {\r\n        var loadingHTML = window.commonJS.getLoadingHTML();\r\n        $(\"#detailModalContent\").html(loadingHTML);\r\n        window.commonJS.processTickerData(window.variablesJS.currentTicker);\r\n    },\r\n\r\n    loadSynthesisData: function () {\r\n        window.summaryJS.initSummaryData();\r\n    },\r\n\r\n    initTooltips: function () {\r\n        var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n        var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n            return new bootstrap.Tooltip(tooltipTriggerEl);\r\n        })\r\n        const $tooltip = $('[data-bs-toggle=\"tooltip\"]');\r\n        $tooltip.tooltip({\r\n            html: true,\r\n            trigger: 'click',\r\n            placement: 'bottom',\r\n        });\r\n        $tooltip.on('show.bs.tooltip', () => {\r\n            $('.tooltip').not(this).remove();\r\n        });\r\n    },\r\n\r\n    loadDividendNews: function (code) {\r\n        $(\"#dividendContent\").html(`</br>${window.commonJS.getLoadingHTML()}`);\r\n        var contents = \"\";\r\n        var FIALDA_STOCK_CASH_DIVIDEND_EVENT_URL = encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V2_URL}${window.apiUrlDefined.FIALDA_STOCK_EVENT_PATH}?typeId=13&symbol=${code}&pageNumber=1&pageSize=1000&sortColumn=exrightDate&isDesc=true`);\r\n        var FIALDA_STOCK_DIVIDEND_EVENT_URL = encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V2_URL}${window.apiUrlDefined.FIALDA_STOCK_EVENT_PATH}?typeId=15&symbol=${code}&pageNumber=1&pageSize=1000&sortColumn=exrightDate&isDesc=true`);\r\n        Promise.all([\r\n            window.commonJS.fetchContentByUrlWithCORSProxy(FIALDA_STOCK_CASH_DIVIDEND_EVENT_URL, \"GET\", \"\"),\r\n            window.commonJS.fetchContentByUrlWithCORSProxy(FIALDA_STOCK_DIVIDEND_EVENT_URL, \"GET\", \"\")\r\n        ]).then((values) => {\r\n            if (values && values.length > 0) {\r\n                var dividendEventData1 = values[0];\r\n                var dividendEventData2 = values[1];\r\n                contents += `<table class=\"table table-bordered table-responsive\">\r\n                                <thead class=\"table-light\">\r\n                                    <tr><th colspan=\"6\">Cổ Tức Bằng Tiền Mặt</th></tr>\r\n                                    <tr><th>#</th><th>Ngày GDKHQ</th><th>Ngày ĐKCC</th><th>Ngày Thực Hiện</th><th>Tỷ lệ</th><th>Nội Dung Sự Kiện</th></tr>              \r\n                                </thead>\r\n                                <tbody>`;\r\n                if (dividendEventData1 && dividendEventData1.result && dividendEventData1.result.items.length > 0) {\r\n                    var i = 0;\r\n                    dividendEventData1.result.items.forEach(item => {\r\n                        contents += `<tr><td>${i + 1}</td><td>${new Date(item.exrightDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${new Date(item.recordDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${new Date(item.issuedDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${item.eventRatioStr}</td><td class=\"text-left\">${item.eventName}</td></tr>`;\r\n                        i++;\r\n                    });\r\n                } else {\r\n                    contents += `<tr><td colspan='6'>Chưa có dữ liệu cho mã <b class=\"top10\">${code}</b>. Vui lòng thử lại sau!</td></tr>`;\r\n                }\r\n                contents += \"</tbody></table>\";\r\n                contents += `<table class=\"table table-bordered table-responsive\">\r\n                                <thead class=\"table-light\">\r\n                                    <tr><th colspan=\"6\">Cổ Tức Bằng Cổ Phiếu</th></tr>\r\n                                    <tr><th>#</th><th>Ngày GDKHQ</th><th>Ngày ĐKCC</th><th>Tỷ lệ</th><th>Khối Lượng</th><th>Nội Dung Sự Kiện</th></tr>              \r\n                                </thead>\r\n                            <tbody>`;\r\n                if (dividendEventData2 && dividendEventData2.result && dividendEventData2.result.items.length > 0) {\r\n                    var j = 0;\r\n                    dividendEventData2.result.items.forEach(item => {\r\n                        contents += `<tr><td>${j + 1}</td><td>${new Date(item.exrightDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${new Date(item.recordDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${item.eventRatioStr}</td><td>${new Intl.NumberFormat(window.variablesJS.numberLocale).format(item.eventValue)}</td><td class=\"text-left\">${item.eventName}</td></tr>`;\r\n                        j++;\r\n                    });\r\n                } else {\r\n                    contents += `<tr><td colspan='6'>Chưa có dữ liệu cho mã <b class=\"top10\">${code}</b>. Vui lòng thử lại sau!</td></tr>`;\r\n                }\r\n                contents += \"</tbody></table>\";\r\n                $(\"#dividendContent\").html(contents);\r\n            } else {\r\n                $(\"#dividendContent\").html(\"Không tìm thấy dữ liệu. Vui lòng thử lại sau!\");\r\n            }\r\n        }).then(() => {\r\n            //console.log('Done fetching content via JavaScript');\r\n        }).catch((err) => {\r\n            $(\"#dividendContent\").html(\"Có lỗi khi tải dữ liệu. Vui lòng thử lại sau!\");\r\n        });\r\n    },\r\n\r\n    loadVolatilityData: function (code) {\r\n        $(\"#volatilityContent\").html(`</br>${window.commonJS.getLoadingHTML()}`);\r\n        var contents = `<table class=\"table table-bordered table-responsive\">\r\n                                <thead class=\"table-light\">\r\n                                    <tr><th colspan=\"9\">% Thay đổi</th></tr>\r\n                                    <tr><th>Ngày</th><th>1 Tuần</th><th>2 Tuần</th><th>1 Tháng</th><th>3 Tháng</th><th>6 Tháng</th><th>YTD</th><th>1 Năm</th><th>3 Năm</th></tr>              \r\n                                </thead>\r\n                                <tbody>`;\r\n        setTimeout(() => {\r\n            var URL = encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V1_URL}${window.apiUrlDefined.FIALDA_GET_STOCK_INFO_PATH}`);\r\n            $.ajax({\r\n                url: `${window.apiUrlDefined.CORS_PROXY_URL}/${URL}`,\r\n                method: \"POST\",\r\n                data: JSON.stringify([{ symbol: code }]),\r\n                headers: {\r\n                    \"content-type\": \"application/json;charset=UTF-8\"\r\n                }\r\n            }).done(function (response) {\r\n                if (response && response.result) {\r\n                    var item = response.result[code] !== null ? response.result[code].RealtimeStatistic : null;\r\n                    if (item) {\r\n                        var day = $.isNumeric(response.result[code].PriceInfo.priceChangePercent) ? `${(response.result[code].PriceInfo.priceChangePercent * 100).toFixed(2)}` : \"0\";\r\n                        var week = $.isNumeric(item.changePercent1W) ? (item.changePercent1W * 100).toFixed(2) : \"N/A\";\r\n                        var week_2 = $.isNumeric(item.changePercent2W) ? (item.changePercent2W * 100).toFixed(2) : \"N/A\";\r\n                        var month_1 = $.isNumeric(item.changePercent1M) ? (item.changePercent1M * 100).toFixed(2) : \"N/A\";\r\n                        var month_3 = $.isNumeric(item.changePercent3M) ? (item.changePercent3M * 100).toFixed(2) : \"N/A\";\r\n                        var month_6 = $.isNumeric(item.changePercent6M) ? (item.changePercent6M * 100).toFixed(2) : \"N/A\";\r\n                        var ytd = $.isNumeric(item.changePercentYTD) ? (item.changePercentYTD * 100).toFixed(2) : \"N/A\";\r\n                        var year = $.isNumeric(item.changePercent52W) ? (item.changePercent52W * 100).toFixed(2) : \"N/A\";\r\n                        var year_3 = $.isNumeric(item.changePercent3Yr) ? (item.changePercent3Yr * 100).toFixed(2) : \"N/A\";\r\n                        contents += `<tr>\r\n                                        <td class=\"${day > 0 ? 'up' : day < 0 ? 'down' : 'reference'} bold\">${day}%</td>\r\n                                        <td class=\"${week > 0 ? 'up' : week < 0 ? 'down' : 'reference'} bold\">${week}%</td>\r\n                                        <td class=\"${week_2 > 0 ? 'up' : week < 0 ? 'down' : 'reference'} bold\">${week_2}%</td>\r\n                                        <td class=\"${month_1 > 0 ? 'up' : month_1 < 0 ? 'down' : 'reference'} bold\">${month_1}%</td>\r\n                                        <td class=\"${month_3 > 0 ? 'up' : month_3 < 0 ? 'down' : 'reference'} bold\">${month_3}%</td>\r\n                                        <td class=\"${month_6 > 0 ? 'up' : month_6 < 0 ? 'down' : 'reference'} bold\">${month_6}%</td>\r\n                                        <td class=\"${ytd > 0 ? 'up' : ytd < 0 ? 'down' : 'reference'} bold\">${ytd}%</td>\r\n                                        <td class=\"${year > 0 ? 'up' : year < 0 ? 'down' : 'reference'} bold\">${year}%</td>\r\n                                        <td class=\"${year_3 > 0 ? 'up' : year_3 < 0 ? 'down' : 'reference'} bold\">${year_3}%</td>\r\n                                    </tr>`;\r\n                    } else {\r\n                        contents += `<tr><td colspan=\"9\">Không có dữ liệu. Vui lòng thử lại sau!</td></tr>`;\r\n                    }\r\n                } else {\r\n                    contents += `<tr><td colspan=\"9\">Không có dữ liệu. Vui lòng thử lại sau!</td></tr>`;\r\n                }\r\n                contents += `<tbody></table>`;\r\n                $(\"#volatilityContent\").html(contents);\r\n                window.commonJS.initTooltips();\r\n            }).fail(function (jqXHR, textStatus, error) {\r\n                $(\"#volatilityContent\").html(\"Có lỗi khi tải dữ liệu. Vui lòng thử lại sau!\");\r\n            });\r\n        }, 100);\r\n    },\r\n\r\n    loadNews: function (code) {\r\n        var loadingHTML = window.commonJS.getLoadingHTML();\r\n        $(\"#newsContent\").html(`</br>${loadingHTML}`);\r\n        setTimeout(() => {\r\n            var URL = encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V1_URL}${window.apiUrlDefined.FIALDA_STOCK_COMPANY_NEWS}?symbol=${code}&pageNumber=1&pageSize=30`);\r\n            var res = \"\";\r\n            $.ajax({\r\n                url: `${window.apiUrlDefined.CORS_PROXY_URL}/${URL}`,\r\n                async: false,\r\n                dataType: \"json\"\r\n            }).done(function (response) {\r\n                if (response && response.result && response.result.items.length > 0) {\r\n                    res += `<div class=\"row\">`;\r\n                    response.result.items.forEach(item => {\r\n                        res += `<div class=\"col\">\r\n                                        <div class=\"news-item style-no1 mb-px\" onclick=\"window.commonJS.viewArticleDetail(${item.id})\" title=\"${item.title}\">\r\n                                            <div class=\"news-item-image logo blur border-2\">\r\n                                                <div style=\"background-image:url('${window.apiConfigs.IMAGE_NEWS_URL}${item.imageUrl}');\"></div>\r\n                                                <div style=\"background-image:url('${window.apiConfigs.IMAGE_NEWS_URL}${item.imageUrl}');\"></div>\r\n                                            </div>\r\n                                            <div class=\"news-item-content\">\r\n                                                <div class=\"news-item-title ellipse\">${item.title}</div>\r\n                                                <div class=\"des ellipse color2\">${item.shortContent}</div>\r\n                                                <div class=\"flex-row b\">\r\n                                                    <div class=\"news-item-more\">\r\n                                                        <div class=\"news-item-soure color2\">${item.source}</div>\r\n                                                        <div class=\"news-item-date color2\">\r\n                                                            <i class=\"ico ico-date color2\" style=\"margin-right: 5px;\"></i> ${new Date(item.publishedTime).toLocaleDateString(window.variablesJS.defaultLocale)} \r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>`;\r\n                    });\r\n                } else {\r\n                    res += `<p><b class=\"top10\">Không có dữ liệu. Vui lòng thử lại sau!</b></p>`;\r\n                }\r\n                res += `</div>`;\r\n                $(\"#newsContent\").html(res);\r\n                window.commonJS.initTooltips();\r\n            }).fail(function (jqXHR, textStatus, error) {\r\n                $(\"#newsContent\").html(\"Có lỗi khi tải dữ liệu. Vui lòng thử lại sau!\");\r\n            });\r\n        }, 100);\r\n    },\r\n\r\n    viewArticleDetail: function (id) {\r\n        window.open(`/news.html?id=${id}`, '_blank');\r\n    },\r\n\r\n    getValueByCandleStickType: function (value, type) {\r\n        return value.replaceAll(\"$$\", type);\r\n    },\r\n\r\n    showDisconnectionMessageToast: function () {\r\n        var disconnectionMessageToast = $(\"#disconnectionMessageToast\");\r\n        if (disconnectionMessageToast.css(\"display\") !== \"block\") {\r\n            disconnectionMessageToast.toast({\r\n                autohide: false\r\n            }).show();\r\n        }\r\n    },\r\n\r\n    reconnectWS: function () {\r\n        window.webSocketConfigs.liveboard.Result = -1;\r\n        window.webSocketApp.initWebsocket();\r\n        window.timeServerJS.StartWS();\r\n        window.commonJS.hideDisconnectionMessageToast();\r\n    },\r\n\r\n    hideDisconnectionMessageToast: function () {\r\n        var disconnectionMessageToast = $(\"#disconnectionMessageToast\");\r\n        disconnectionMessageToast.toast().hide();\r\n    },\r\n\r\n    initSymbolAutocomple: function (id) {\r\n        var data = window.stockData.map(x => {\r\n            let obj = {};\r\n            obj[\"label\"] = `${x.symbol} - ${x.name} - ${x.exchange}`;\r\n            obj[\"value\"] = x.symbol;\r\n            return obj;\r\n        });\r\n        VirtualSelect.init({\r\n            ele: `#${id}`,\r\n            options: data,\r\n            multiple: false,\r\n            search: true,\r\n            placeholder: 'Nhập mã cổ phiếu...',\r\n            searchPlaceholderText: 'Tìm kiếm mã cổ phiếu...',\r\n            noSearchResultsTex: 'Không tìm thấy Mã',\r\n            selectAllText: 'Chọn tất cả',\r\n            optionSelectedText: 'mã được chọn',\r\n            optionsSelectedText: 'mã được chọn',\r\n            allOptionsSelectedText: 'Tất cả',\r\n            disableSelectAll: true,\r\n            dropboxWidth: \"600px\",\r\n            maxValue: 10,\r\n            optionsCount: 8\r\n        });\r\n    },\r\n\r\n    initIndustriesAutocomple: function (id, dataSource, actionFunction) {\r\n        var data = dataSource.map(x => {\r\n            let obj = {};\r\n            obj[\"label\"] = `${x}`;\r\n            obj[\"value\"] = x.toLocaleLowerCase();\r\n            return obj;\r\n        });\r\n        VirtualSelect.init({\r\n            ele: `#${id}`,\r\n            options: data,\r\n            multiple: true,\r\n            search: true,\r\n            selectedValue: data.map(x => x.value),\r\n            placeholder: 'Chọn ngành cần lọc...',\r\n            searchPlaceholderText: 'Tìm kiếm ngành cần lọc...',\r\n            noSearchResultsTex: 'Không tìm thấy Ngành',\r\n            selectAllText: 'Chọn tất cả',\r\n            optionSelectedText: 'ngành được chọn',\r\n            optionsSelectedText: 'ngành được chọn',\r\n            allOptionsSelectedText: 'Tất cả',\r\n            disableSelectAll: false,\r\n            dropboxWidth: \"400px\",\r\n            maxValue: 19,\r\n            optionsCount: 8\r\n        });\r\n        if (actionFunction) {\r\n            $(`#${id}`).change(function () {\r\n                actionFunction(this.value)\r\n            });\r\n        }\r\n    },\r\n\r\n    getSymbolInfor: function (symbol) {\r\n        var symbolInfo = {}\r\n        symbolInfo = window.stockData.find(x => x.symbol === symbol);\r\n        symbolInfo.icbName = window.fieldsDataGlobal.find(x => x.icbCode === symbolInfo.icbCode).icbName;\r\n        return symbolInfo;\r\n    },\r\n\r\n\r\n    getTotalItems: function (val1, val2) {\r\n        let total = 0;\r\n        if (val1 !== null && val1 > 0) {\r\n            total += 1;\r\n        }\r\n        if (val2 !== null && val2 > 0) {\r\n            total += 1;\r\n        }\r\n        return total;\r\n    },\r\n\r\n    getIcbNameBySymbol: function (symbol) {\r\n        var symbolInfo = window.stockData.find(x => x.symbol.toLowerCase() === symbol.toLowerCase());\r\n        if (symbolInfo) {\r\n            var icbInfo = window.fieldsDataGlobal.find(x => x.icbCode === symbolInfo.icbCode)\r\n            if (icbInfo && icbInfo.hasOwnProperty('icbName')) {\r\n                return window.fieldsDataGlobal.find(x => x.icbCode === symbolInfo.icbCode).icbName;\r\n            }\r\n        }\r\n        return \"N/A\";\r\n    },\r\n\r\n    initIndustriesSelectionPopover: function (id) {\r\n        $(`#${id}`).popover({\r\n            html: true,\r\n            placement: 'top',\r\n            title: '<span class=\"font-weight-bold\">Lọc theo ngành</span> <a href=\"javascript:void(0)\" class=\"close popover-close-btn\" data-dismiss=\"alert\" type=\"button\"><i class=\"vscomp-clear-icon\"></i></a>',\r\n            content: function () {\r\n                return `<div id=\"symbol-name-${id}-autocomplete\"></div>`;\r\n            }\r\n        });\r\n        $(`#${id}`).on(\"click\", () => {\r\n            var checkExist = $(`#symbol-name-${id}-autocomplete`);\r\n            if (checkExist != null && typeof (checkExist) !== undefined && checkExist.val() !== \"\") {\r\n                return;\r\n            }\r\n            var industriesData = $(`#table-${id} tr`).map(function () { return $(this).find(\"td:eq(2)\").text() });\r\n            const dataSource = Array.from(new Set(industriesData));\r\n            window.commonJS.initIndustriesAutocomple(`symbol-name-${id}-autocomplete`, dataSource, (values) => {\r\n                $(`#table-${id} tr`).filter(function () {\r\n                    $(this).toggle(values.indexOf($(this).find(\"td:eq(2)\").text().toLowerCase()) > -1)\r\n                });\r\n            });\r\n        })\r\n    },\r\n\r\n    closePopover: function () {\r\n        $('.popover').popover('hide');\r\n    }\r\n}\r\n\r\n\n\n//# sourceURL=webpack:///./src/js/common.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./src/js/common.js"]();
/******/ 	
/******/ })()
;