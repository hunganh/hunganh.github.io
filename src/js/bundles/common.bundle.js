$(document).on("contextmenu",(function(e){e.preventDefault()})),$(document).keydown((function(e){return 123!=e.keyCode&&(!e.ctrlKey||!e.shiftKey||73!=e.keyCode)&&(!e.ctrlKey||83!=e.keyCode)&&void 0})),document.addEventListener("DOMContentLoaded",(function(e){$(".filter-title,.filter-title-default").click((function(){var e=$(this).prev().find("input");e.prop("checked")?e.prop("checked",!1).change():e.prop("checked",!0).change()})),$(document).on("click",".popover .close",(function(){$(this).parents(".popover").popover("hide")})),$(document).on("click",".nav-link",(function(){$(".popover").popover("hide")})),$(document).on("click",".popover .close",(function(){$(this).parents(".popover").popover("hide")})),$(document).on("click",".nav-link",(function(){$(".popover").popover("hide")}))})),window.commonJS={fetchContentByUrl:function(e){return new Promise(((t,n)=>{window.fetch(e,{method:"GET"}).then((e=>{200===e.status&&t(e.json())}),(e=>{n(e)})).catch((e=>{console.log(e)}))}))},fetchContentByUrlWithCORSProxy:function(e,t,n){return new Promise(((o,i)=>{"GET"===t?fetch(`${window.apiUrlDefined.CORS_PROXY_URL}/${e}`).then((e=>{if(e.ok)return o(e.json());throw new Error("Network response was not ok.")}),(e=>{i(e)})).catch((e=>{console.log(e)})):fetch(`${window.apiUrlDefined.CORS_PROXY_URL}/${e}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}).then((e=>{if(e.ok)return o(e.json());throw new Error("Network response was not ok.")}),(e=>{i(e)})).catch((e=>{console.log(e)}))}))},getDateInput:function(e){const t=new Date(e);return`${t.getFullYear()}_${("0"+(t.getMonth()+1)).slice(-2)}_${("0"+t.getDate()).slice(-2)}`},checkUrlExists:function(e){var t=new XMLHttpRequest;return t.open("HEAD",getRequestUrl(e),!1),t.send(),404!=t.status},getFirstItemData:function(e){var t=null,n=window.commonJS.getUrlPreviousElementByDate(e);return""===n||$.ajax({url:n,async:!1,dataType:"json"}).done((function(e){e&&e.items.length>0&&(t=e.items[0])})),t},addCell:function(e,t){e.insertCell(-1).innerHTML=t},getPositionIcon:function(e,t){var n="<span class='reference'> &#8722;</span>";return t<e?n="<span class='up'> &#8593;("+Number(e+1)+")</span>":t>e&&(n="<span class='down'> &#8595;("+Number(e+1)+")</span>"),n},getColumnName:function(){return"selfBusiness"===window.variablesJS.typeDefault?window.variablesJS.TOTAL_NET_BUY_TRADE_VALUE:window.variablesJS.FOREIGN_NET_BUY_VALUE},getVolumeColumnName:function(){return"selfBusiness"===window.variablesJS.typeDefault?window.variablesJS.TOTAL_NET_BUY_TRADE_VOLUME:""},getVolatilityValue:function(e){return"selfBusiness"===window.variablesJS.typeDefault?Intl.NumberFormat(window.variablesJS.numberLocale).format(e.totalBuyTradeValue-e.totalSellTradeValue):Intl.NumberFormat(window.variablesJS.numberLocale).format(e.foreignBuyValue-e.foreignSellValue)},getNetTradeValueColumn:function(){return"selfBusiness"===window.variablesJS.typeDefault?"netBuy"===window.variablesJS.actionDefault?window.variablesJS.TOTAL_NET_BUY_TRADE_VALUE:window.variablesJS.TOTAL_NET_SELL_TRADE_VALUE:"netBuy"===window.variablesJS.actionDefault?window.variablesJS.FOREIGN_NET_BUY_VALUE:window.variablesJS.FOREIGN_NET_SELL_VALUE},getUrlPreviousElementByDate:function(e){var t=`${window.commonJS.getDateInput(e)}.json`,n=window.variablesJS.mappingDataJson.findIndex((e=>e.name===t));return n<=0?"":window.variablesJS.mappingDataJson[n+1].url},showLoading:function(e){document.getElementById(e).style.display="block"},hideLoading:function(e){document.getElementById(e).style.setProperty("display","none","important")},getClassByValue:function(e){return e>0?"up":e<0?"down":"reference"},showTickerInfor:function(e){window.variablesJS.currentTicker=e;var t=window.commonJS.getLoadingHTML();$("#btn-modal-action").attr("onclick","window.commonJS.refreshTickerDetailData()"),$("#detailModalLabel").html(e),$("#detailModalContent").html(t),window.commonJS.processTickerData(e),$("#detailModal").modal("show")},processTickerData:function(e){var t=new Date,n=new Date;n.setMonth(n.getMonth()-3);var o=`${t.getFullYear()}-${("0"+(t.getMonth()+1)).slice(-2)}-${("0"+t.getDate()).slice(-2)}`,i=`${n.getFullYear()}-${("0"+(n.getMonth()+1)).slice(-2)}-${("0"+n.getDate()).slice(-2)}`,a=encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V2_URL}${window.apiUrlDefined.FIALDA_GET_REPORT_PATH}?fromDate=${i}&toDate=${o}&symbols=${e}`),l=encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V1_URL}${window.apiUrlDefined.FIALDA_GET_STOCK_INFO_PATH}`);Promise.all([window.commonJS.fetchContentByUrlWithCORSProxy(a,"GET",""),window.commonJS.fetchContentByUrlWithCORSProxy(l,"POST",[{symbol:e}])]).then((t=>{t&&t.length>0&&setTimeout((()=>{var n=window.commonJS.drawRecommendationsDataToHTML(t,e);$("#detailModalContent").html(n)}),50)})).then((()=>{})).catch((e=>{console.error(e)}))},drawRecommendationsDataToHTML:function(e,t){var n="",o=e[0],i=e[1];if(i&&i.result)if(void 0!==(u=Object.keys(i.result)[0])){var a=i.result[u],l=null!==a.PriceInfo.lastPrice?1e3*a.PriceInfo.lastPrice:1e3*a.BasicPriceInfo.prevClose,r=$.isNumeric(a.BasicInfo.eps_TTM)?(l/a.BasicInfo.eps_TTM).toFixed(2):"N/A",s=$.isNumeric(a.BasicInfo.bookValuePerShare)?(l/a.BasicInfo.bookValuePerShare).toFixed(2):"N/A",c=$.isNumeric(a.BasicInfo.salePerShare)?(l/a.BasicInfo.salePerShare).toFixed(2):"N/A",d=$.isNumeric(a.PriceInfo.priceChangePercent)?`(${(100*a.PriceInfo.priceChangePercent).toFixed(2)}%)`:"";$("#detailModalLabel").html(`${t} - ${a.BasicInfo.name}`),n+=`<div class="card mb-3">\n                            <div class="row g-0">\n                            <div class="col-md-3 text-center">\n                                <div class="card-body ${null===a.PriceInfo.openPrice?"bg-reference":a.PriceInfo.priceChange>0?"bg-up":a.PriceInfo.priceChange<0?"bg-down":"bg-reference"}">\n                                    <h5 class="card-title">${new Intl.NumberFormat(window.variablesJS.numberLocale).format(l)} ${d}</h5>\n                                    <h6>Sàn: ${a.BasicInfo.exchange}</h6>\n                                </div>               \n                            </div>\n                            <div class="col-md-9">\n                                <div class="card-body price-info">\n                                    <table class="table table-responsive" style="border: none">\n                                        <tbody>\n                                            <tr>\n                                                <td><span class="font-weight-bold">Vốn hóa:</span> ${$.isNumeric(a.PriceInfo.marketCap)?new Intl.NumberFormat(window.variablesJS.numberLocale).format(a.PriceInfo.marketCap):"N/A"}</td>    \n                                                <td><span class="font-weight-bold">EPS(TTM):</span> ${$.isNumeric(a.BasicInfo.eps_TTM)?new Intl.NumberFormat(window.variablesJS.numberLocale).format(a.BasicInfo.eps_TTM.toFixed(0)):"N/A"}</td>\n                                                <td><span class="font-weight-bold">P/E:</span> ${r}</td>\n                                                <td><span class="font-weight-bold">P/S:</span> ${c}</td>\n                                                <td><span class="font-weight-bold">P/B:</span> ${s} </td>\n                                            </tr>\n                                        </tbody>\n                                    </table>\n                                </div>\n                            </div>\n                            </div>\n                        </div>`}else n+="";else n+="";var u,h='<table class="table table-bordered table-responsive">\n                                    <thead class="table-light">\n                                        <tr><th>Ngày báo cáo</th><th>Đơn vị phát hành</th><th>Tiêu đề</th><th>#</th></tr>              \n                                    </thead>\n                                    <tbody>';return o&&o.result&&void 0!==(u=Object.keys(o.result)[0])?o.result[u].forEach((e=>{h+=`<tr><td>${new Date(e.reportDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td><b class="top10">${e.reporter}</b></td><td class="text-left">${e.title}</td><td><a href="${window.apiUrlDefined.FIALDA_ANALYSIS_REPORT_URL}${t}_-_${e.attachment}" target="_blank">Xem báo cáo</a></td></tr>`})):h+=`<tr><td colspan="4">Chưa có dữ liệu cho mã <b class="top10">${t}</b>. Vui lòng thử lại sau!</td></tr>`,n+`<ul class="nav nav-tabs tabs" id="tickerTab" role="tablist">\n                    <li class="nav-item" role="presentation">\n                        <button class="nav-link active" id="recommendation-tab" data-bs-toggle="tab" data-bs-target="#recommendation" type="button" role="tab" aria-controls="recommendation" aria-selected="true">Báo Cáo Phân Tích</button>\n                    </li>\n                    <li class="nav-item" role="presentation">\n                        <button class="nav-link" id="dividend-tab" data-bs-toggle="tab" data-bs-target="#dividend" type="button" role="tab" aria-controls="dividend" aria-selected="false" onclick="window.commonJS.loadDividendNews('${t}')">Tin Cổ Tức</button>\n                    </li>\n                    <li class="nav-item" role="presentation">\n                        <button class="nav-link" id="volatility-tab" data-bs-toggle="tab" data-bs-target="#volatility" type="button" role="tab" aria-controls="volatility" aria-selected="false" onclick="window.commonJS.loadVolatilityData('${t}')">Biến động %</button>\n                    </li>\n                    <li class="nav-item" role="presentation">\n                        <button class="nav-link" id="news-tab" data-bs-toggle="tab" data-bs-target="#news" type="button" role="tab" aria-controls="news" aria-selected="false" onclick="window.commonJS.loadNews('${t}')">Tin Doanh Nghiệp</button>\n                    </li>\n                </ul>\n                <div class="tab-content" id="tickerTabContent">\n                    <div class="tab-pane fade show active" id="recommendation" role="tabpanel" aria-labelledby="recommendation-tab">\n                        <div class="grid-container">\n                            ${h+="</tbody></table>"}\n                        </div>\n                    </div>\n                    <div class="tab-pane fade" id="dividend" role="tabpanel" aria-labelledby="dividend-tab">\n                        <div class="grid-container" id="dividendContent">\n                            \n                        </div>\n                    </div>\n                    <div class="tab-pane fade" id="volatility" role="tabpanel" aria-labelledby="volatility-tab">\n                        <div class="grid-container" id="volatilityContent">\n                            \n                        </div>\n                    </div>\n                    <div class="tab-pane fade" id="news" role="tabpanel" aria-labelledby="news-tab">\n                        <div class="grid-container" id="newsContent">\n                            \n                        </div>\n                    </div>\n                </div>`},getLoadingHTML:function(){return'<div class="d-flex justify-content-center">\n                    <div class="spinner-border text-success" role="status">\n                        <span class="visually-hidden">Loading...</span>\n                    </div>\n                    <span class="loadingTitle">Đang tải dữ liệu...</span>\n                </div>'},getSelectionFieldsHTML:function(e){var t=`<select class="form-select form-select-sm" aria-label=".form-select-sm example" id="${e}">\n                        <option value="null" selected>Tất cả ngành</option>`;return window.fieldsDataGlobal.forEach((e=>{t+="<option value='"+e.icbCode+"'>"+e.icbName+"</option>"})),t+="</select>"},refreshTickerDetailData:function(){var e=window.commonJS.getLoadingHTML();$("#detailModalContent").html(e),window.commonJS.processTickerData(window.variablesJS.currentTicker)},loadSynthesisData:function(){window.summaryJS.initSummaryData()},initTooltips:function(){[].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]')).map((function(e){return new bootstrap.Tooltip(e)}));const e=$('[data-bs-toggle="tooltip"]');e.tooltip({html:!0,trigger:"click",placement:"bottom"}),e.on("show.bs.tooltip",(()=>{$(".tooltip").not(this).remove()}))},loadDividendNews:function(e){$("#dividendContent").html(`</br>${window.commonJS.getLoadingHTML()}`);var t="",n=encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V2_URL}${window.apiUrlDefined.FIALDA_STOCK_EVENT_PATH}?typeId=13&symbol=${e}&pageNumber=1&pageSize=1000&sortColumn=exrightDate&isDesc=true`),o=encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V2_URL}${window.apiUrlDefined.FIALDA_STOCK_EVENT_PATH}?typeId=15&symbol=${e}&pageNumber=1&pageSize=1000&sortColumn=exrightDate&isDesc=true`);Promise.all([window.commonJS.fetchContentByUrlWithCORSProxy(n,"GET",""),window.commonJS.fetchContentByUrlWithCORSProxy(o,"GET","")]).then((n=>{if(n&&n.length>0){var o=n[0],i=n[1];if(t+='<table class="table table-bordered table-responsive">\n                                <thead class="table-light">\n                                    <tr><th colspan="6">Cổ Tức Bằng Tiền Mặt</th></tr>\n                                    <tr><th>#</th><th>Ngày GDKHQ</th><th>Ngày ĐKCC</th><th>Ngày Thực Hiện</th><th>Tỷ lệ</th><th>Nội Dung Sự Kiện</th></tr>              \n                                </thead>\n                                <tbody>',o&&o.result&&o.result.items.length>0){var a=0;o.result.items.forEach((e=>{t+=`<tr><td>${a+1}</td><td>${new Date(e.exrightDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${new Date(e.recordDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${new Date(e.issuedDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${e.eventRatioStr}</td><td class="text-left">${e.eventName}</td></tr>`,a++}))}else t+=`<tr><td colspan='6'>Chưa có dữ liệu cho mã <b class="top10">${e}</b>. Vui lòng thử lại sau!</td></tr>`;if(t+="</tbody></table>",t+='<table class="table table-bordered table-responsive">\n                                <thead class="table-light">\n                                    <tr><th colspan="6">Cổ Tức Bằng Cổ Phiếu</th></tr>\n                                    <tr><th>#</th><th>Ngày GDKHQ</th><th>Ngày ĐKCC</th><th>Tỷ lệ</th><th>Khối Lượng</th><th>Nội Dung Sự Kiện</th></tr>              \n                                </thead>\n                            <tbody>',i&&i.result&&i.result.items.length>0){var l=0;i.result.items.forEach((e=>{t+=`<tr><td>${l+1}</td><td>${new Date(e.exrightDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${new Date(e.recordDate).toLocaleDateString(window.variablesJS.defaultLocale)}</td><td>${e.eventRatioStr}</td><td>${new Intl.NumberFormat(window.variablesJS.numberLocale).format(e.eventValue)}</td><td class="text-left">${e.eventName}</td></tr>`,l++}))}else t+=`<tr><td colspan='6'>Chưa có dữ liệu cho mã <b class="top10">${e}</b>. Vui lòng thử lại sau!</td></tr>`;t+="</tbody></table>",$("#dividendContent").html(t)}else $("#dividendContent").html("Không tìm thấy dữ liệu. Vui lòng thử lại sau!")})).then((()=>{})).catch((e=>{$("#dividendContent").html("Có lỗi khi tải dữ liệu. Vui lòng thử lại sau!")}))},loadVolatilityData:function(e){$("#volatilityContent").html(`</br>${window.commonJS.getLoadingHTML()}`);var t='<table class="table table-bordered table-responsive">\n                                <thead class="table-light">\n                                    <tr><th colspan="9">% Thay đổi</th></tr>\n                                    <tr><th>Ngày</th><th>1 Tuần</th><th>2 Tuần</th><th>1 Tháng</th><th>3 Tháng</th><th>6 Tháng</th><th>YTD</th><th>1 Năm</th><th>3 Năm</th></tr>              \n                                </thead>\n                                <tbody>';setTimeout((()=>{var n=encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V1_URL}${window.apiUrlDefined.FIALDA_GET_STOCK_INFO_PATH}`);$.ajax({url:`${window.apiUrlDefined.CORS_PROXY_URL}/${n}`,method:"POST",data:JSON.stringify([{symbol:e}]),headers:{"content-type":"application/json;charset=UTF-8"}}).done((function(n){if(n&&n.result){var o=null!==n.result[e]?n.result[e].RealtimeStatistic:null;if(o){var i=$.isNumeric(n.result[e].PriceInfo.priceChangePercent)?`${(100*n.result[e].PriceInfo.priceChangePercent).toFixed(2)}`:"0",a=$.isNumeric(o.changePercent1W)?(100*o.changePercent1W).toFixed(2):"N/A",l=$.isNumeric(o.changePercent2W)?(100*o.changePercent2W).toFixed(2):"N/A",r=$.isNumeric(o.changePercent1M)?(100*o.changePercent1M).toFixed(2):"N/A",s=$.isNumeric(o.changePercent3M)?(100*o.changePercent3M).toFixed(2):"N/A",c=$.isNumeric(o.changePercent6M)?(100*o.changePercent6M).toFixed(2):"N/A",d=$.isNumeric(o.changePercentYTD)?(100*o.changePercentYTD).toFixed(2):"N/A",u=$.isNumeric(o.changePercent52W)?(100*o.changePercent52W).toFixed(2):"N/A",h=$.isNumeric(o.changePercent3Yr)?(100*o.changePercent3Yr).toFixed(2):"N/A";t+=`<tr>\n                                        <td class="${i>0?"up":i<0?"down":"reference"} bold">${i}%</td>\n                                        <td class="${a>0?"up":a<0?"down":"reference"} bold">${a}%</td>\n                                        <td class="${l>0?"up":a<0?"down":"reference"} bold">${l}%</td>\n                                        <td class="${r>0?"up":r<0?"down":"reference"} bold">${r}%</td>\n                                        <td class="${s>0?"up":s<0?"down":"reference"} bold">${s}%</td>\n                                        <td class="${c>0?"up":c<0?"down":"reference"} bold">${c}%</td>\n                                        <td class="${d>0?"up":d<0?"down":"reference"} bold">${d}%</td>\n                                        <td class="${u>0?"up":u<0?"down":"reference"} bold">${u}%</td>\n                                        <td class="${h>0?"up":h<0?"down":"reference"} bold">${h}%</td>\n                                    </tr>`}else t+='<tr><td colspan="9">Không có dữ liệu. Vui lòng thử lại sau!</td></tr>'}else t+='<tr><td colspan="9">Không có dữ liệu. Vui lòng thử lại sau!</td></tr>';t+="<tbody></table>",$("#volatilityContent").html(t),window.commonJS.initTooltips()})).fail((function(e,t,n){$("#volatilityContent").html("Có lỗi khi tải dữ liệu. Vui lòng thử lại sau!")}))}),100)},loadNews:function(e){var t=window.commonJS.getLoadingHTML();$("#newsContent").html(`</br>${t}`),setTimeout((()=>{var t=encodeURIComponent(`${window.apiUrlDefined.FIALDA_API_V1_URL}${window.apiUrlDefined.FIALDA_STOCK_COMPANY_NEWS}?symbol=${e}&pageNumber=1&pageSize=30`),n="";$.ajax({url:`${window.apiUrlDefined.CORS_PROXY_URL}/${t}`,async:!1,dataType:"json"}).done((function(e){e&&e.result&&e.result.items.length>0?(n+='<div class="row">',e.result.items.forEach((e=>{n+=`<div class="col">\n                                        <div class="news-item style-no1 mb-px" onclick="window.commonJS.viewArticleDetail(${e.id})" title="${e.title}">\n                                            <div class="news-item-image logo blur border-2">\n                                                <div style="background-image:url('${window.apiConfigs.IMAGE_NEWS_URL}${e.imageUrl}');"></div>\n                                                <div style="background-image:url('${window.apiConfigs.IMAGE_NEWS_URL}${e.imageUrl}');"></div>\n                                            </div>\n                                            <div class="news-item-content">\n                                                <div class="news-item-title ellipse">${e.title}</div>\n                                                <div class="des ellipse color2">${e.shortContent}</div>\n                                                <div class="flex-row b">\n                                                    <div class="news-item-more">\n                                                        <div class="news-item-soure color2">${e.source}</div>\n                                                        <div class="news-item-date color2">\n                                                            <i class="ico ico-date color2" style="margin-right: 5px;"></i> ${new Date(e.publishedTime).toLocaleDateString(window.variablesJS.defaultLocale)} \n                                                    </div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>`}))):n+='<p><b class="top10">Không có dữ liệu. Vui lòng thử lại sau!</b></p>',n+="</div>",$("#newsContent").html(n),window.commonJS.initTooltips()})).fail((function(e,t,n){$("#newsContent").html("Có lỗi khi tải dữ liệu. Vui lòng thử lại sau!")}))}),100)},viewArticleDetail:function(e){window.open(`news.html?id=${e}`,"_blank")},getValueByCandleStickType:function(e,t){return e.replaceAll("$$",t)},showDisconnectionMessageToast:function(){var e=$("#disconnectionMessageToast");"block"!==e.css("display")&&e.toast({autohide:!1}).show()},reconnectWS:function(){window.webSocketConfigs.liveboard.Result=-1,window.webSocketApp.initWebsocket(),window.timeServerJS.StartWS(),window.commonJS.hideDisconnectionMessageToast()},hideDisconnectionMessageToast:function(){$("#disconnectionMessageToast").toast().hide()},initSymbolAutocomple:function(e){var t=window.stockData.map((e=>{let t={};return t.label=`${e.symbol} - ${e.name} - ${e.exchange}`,t.value=e.symbol,t}));VirtualSelect.init({ele:`#${e}`,options:t,multiple:!1,search:!0,placeholder:"Nhập mã cổ phiếu...",searchPlaceholderText:"Tìm kiếm mã cổ phiếu...",noSearchResultsTex:"Không tìm thấy Mã",selectAllText:"Chọn tất cả",optionSelectedText:"mã được chọn",optionsSelectedText:"mã được chọn",allOptionsSelectedText:"Tất cả",disableSelectAll:!0,dropboxWidth:"600px",maxValue:10,optionsCount:8})},initIndustriesAutocomple:function(e,t,n){var o=t.map((e=>{let t={};return t.label=`${e}`,t.value=e.toLocaleLowerCase(),t}));VirtualSelect.init({ele:`#${e}`,options:o,multiple:!0,search:!0,selectedValue:o.map((e=>e.value)),placeholder:"Chọn ngành cần lọc...",searchPlaceholderText:"Tìm kiếm ngành cần lọc...",noSearchResultsTex:"Không tìm thấy Ngành",selectAllText:"Chọn tất cả",optionSelectedText:"ngành được chọn",optionsSelectedText:"ngành được chọn",allOptionsSelectedText:"Tất cả",disableSelectAll:!1,dropboxWidth:"400px",maxValue:19,optionsCount:8}),n&&$(`#${e}`).change((function(){n(this.value)}))},getSymbolInfor:function(e){var t={};return(t=window.stockData.find((t=>t.symbol===e))).icbName=window.fieldsDataGlobal.find((e=>e.icbCode===t.icbCode)).icbName,t},getTotalItems:function(e,t){let n=0;return null!==e&&e>0&&(n+=1),null!==t&&t>0&&(n+=1),n},getIcbNameBySymbol:function(e){var t=window.stockData.find((t=>t.symbol.toLowerCase()===e.toLowerCase()));if(t){var n=window.fieldsDataGlobal.find((e=>e.icbCode===t.icbCode));if(n&&n.hasOwnProperty("icbName"))return window.fieldsDataGlobal.find((e=>e.icbCode===t.icbCode)).icbName}return"N/A"},initIndustriesSelectionPopover:function(e){$(`#${e}`).popover({html:!0,placement:"top",title:'<span class="font-weight-bold">Lọc theo ngành</span> <a href="javascript:void(0)" class="close popover-close-btn" data-dismiss="alert" type="button"><i class="vscomp-clear-icon"></i></a>',content:function(){return`<div id="symbol-name-${e}-autocomplete"></div>`}}),$(`#${e}`).on("click",(()=>{var t=$(`#symbol-name-${e}-autocomplete`);if(null!=t&&void 0!==typeof t&&""!==t.val())return;var n=$(`#table-${e} tr`).map((function(){return $(this).find("td:eq(2)").text()}));const o=Array.from(new Set(n));window.commonJS.initIndustriesAutocomple(`symbol-name-${e}-autocomplete`,o,(t=>{$(`#table-${e} tr`).filter((function(){$(this).toggle(t.indexOf($(this).find("td:eq(2)").text().toLowerCase())>-1)}))}))}))},closePopover:function(){$(".popover").popover("hide")}};