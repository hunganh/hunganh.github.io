window.timeServerJS={isOpenMarketTime:!1,StartWS:function(){try{ws=new WebSocket("wss://prs.tvsi.com.vn/datarealtime"),ws.onopen=function(e){console.log(new Date),console.log("Timer WS Connected")},ws.onmessage=function(e){var o=JSON.parse(LZString.decompressFromBase64(e.data));if(o&&o.length>0){var n=o.find((e=>10===e.Code&&""!==e.Msg));if(n){$("#clock-date").html(n.Msg.substring(0,10)),$("#clock-time").html(n.Msg.substring(11,19));var t=n.Msg.substring(11,19).split(":");"08:44:01"==n.Msg.substring(11,19)&&window.boardsJS.loadLiveBoardData();var s=window.location.pathname;if(null!=t&&Number(t)>=9&&Number(t)<=15&&-1!=s.indexOf("khuyen-nghi-co-phieu.html")){var i=o.find((e=>3===e.Code&&""!==e.Msg));i&&window.timeServerJS.ProcessRealtimeData(i.Msg)}}}},ws.onerror=function(e){console.log(new Date),console.log("Timer WS error: "+e.message)},ws.onclose=function(e){console.log(new Date),console.log("Timer WS disconnected"),window.timeServerJS.StartWS()}}catch(e){console.log(e)}},ProcessRealtimeData:function(e){try{const n=e.split(splitTag);var o=n.length;for(let e=0;e<o;e++)if(""!==n[e])try{const o=n[e].split("*")[0];o.substr(0,o.indexOf("_")),o.indexOf("_last_price")}catch(e){console.log(e)}}catch(e){console.log(e)}}},document.addEventListener("DOMContentLoaded",(function(e){window.timeServerJS.StartWS()}));